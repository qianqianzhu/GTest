A toy example of cuda c/c++ with unit test framework google test
To compile:
nvcc tests.cu whattotest.cu -o test -lgtest -lgtest_main -lpthread

